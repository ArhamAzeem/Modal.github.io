<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:ital,wght@0,200..900;1,200..900&display=swap" rel="stylesheet">
    <title>Task 20 - JS Modal</title>
    <style>
        *{
            margin: 0;
            padding: 0;
            font-family: "Source Code Pro", monospace;
            font-optical-sizing: auto;
            font-weight: 400;
            font-style: normal;
        }

        body{
            overflow: hidden;
            height: 100vh; 
            background: #161b22;
            background-repeat: no-repeat;
            background-position: center;
            background-size: cover;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .container{
            color: #ffffff;
            text-shadow: 0 1vh 1vh rgb(88, 88, 88);
            width: 40vw;
            border-radius: 3rem;
            text-align: center;
            display: flex;
            flex-direction: column;
            gap: 4vh;
            padding: 2rem;
            height: auto;
            background: #010409;
        }

        h1{
            font-weight: bolder;
        }

        button{
            color: #ffffff;
            font-weight: 600;
            cursor: pointer;
            font-size: 1.2rem;
            width: 25%;
            position: relative;
            left: 37.5%;
            padding: 0.7rem 1rem 0.7rem 1rem;
            box-shadow: 0 0.5vh 1vh rgb(117, 117, 117);
            border-radius: 2rem;
            border: none;
            background-color: rgb(165, 67, 42);
        }

        button:active{
            box-shadow: 0 0.3vh 1vh black;
            transform: translateY(0.3vh);
        }

        .modal{
            display: none;
            position: fixed;
            z-index: 1;
            left: 0;
            top: 0;
            width: 100vw;
            height: 100vh;
            overflow: hidden;
            background-color: rgb(0, 0, 0);
            background-color: rgba(107, 97, 97, 0.4);
        }

        .modal-content{
            background-color: #080a0d;
            margin: 5% auto;
            color: white;
            border-radius: 3rem;
            box-shadow: 0 2vh 2vh rgb(66, 66, 66);
            width: 40%;
            display: flex;
            flex-direction: column;
            gap: 2vh;
            padding: 2rem;
            animation: fade 0.5s  0.25s both;
        }

        @keyframes fade{
            0% {
                opacity: 0;
                transform: scale(0);
            }
            100% {
                opacity: 1;
                transform: scale(1);
            }
        }
        .close{
            color: #aaa;
            float:right;
            font-size: 28px;
            font-weight: bold;
            width: 30px;
        }

        .close:hover,.close:focus{
            color: rgb(255, 255, 255);
            text-decoration: none;
            cursor: pointer;
        }

        .header{
            width: 100%;
        }

        #modal-heading{
            display: flex;
            justify-content: center;
            font-size: 2rem;
            font-weight: bold;
        }

        .modalBtns{
            display: flex;
            gap: 2rem;
            justify-content: center;
        }

        .modalBtn{
            font-size: 1rem;
            padding:0.5rem;
            width: 17%;
            border-radius: 0.7rem;
            position: static;
            box-shadow: none;
            border: 1px solid;
            background-color: rgba(0, 0, 0, 0.5);
        }

        pre{
            width: 100%;
            overflow: hidden;
        }

        #code{
            padding: 0.5rem;
        }

        #js {
            overflow-y: scroll;
            overflow-x: scroll;
            max-height: 40vh;
            color: greenyellow;
        }

        @media only screen and (max-width: 768px) {
            .container{
                width: 60%;
            }

            button{
                width: 30%;
            }

            .modalBtn{
                width: 23%;
            }
        }

        @media only screen and (max-width: 425px) {
            .container{
                width: 70%;
                font-size: 0.8rem;
            }

            button{
                font-size: 0.8rem;
                width: 40%;
                left: 33%;
            }

            .modal-content{
                width: 70%;
            }
            #modal-heading{
                font-size: 1.5rem;
            }

            .modalBtn{
                width: 25%;
                font: 0.8rem;
            }
}
@media only screen and (max-width: 320px) {
    .container{
        width: 60%;
        font-size: 0.7rem;
    }

    button{
        font-size: 0.7rem;
        width: 50%;
        left: 25%;
    }

    .modalBtn{
        width: 30%;
        font-size: 0.7rem;
    }
}
    </style>
</head>
<body>
    <div class="container">
        <h1>Task 20 - JS Modal</h1>
        <p>I was asked to create a custom modal window featuring a header, body, and close button using JavaScript exclusively. The modal should display a title in the header, provide space for content in the body, and include a close button to allow users to dismiss it. Additionally, ensure that the modal is triggered and can be closed by clicking the close button or anywhere outside the modal, ensuring compatibility across various browsers and devices. For the JS code that was used to implement this functionality, click the button below.</p>
        <button id="open">Get code</button>
    </div>

    <div id="myModal" class="modal">
        <div class="modal-content">
          <div class="header"><span class="close">&times;</span>
            <div id="modal-heading">Task 20 - JS Code</div></div>
         <p id="code">
            <pre id="js">
            </pre>
         </p>
          <div class="modalBtns">
            <button class="copyBtn modalBtn">Copy</button>
            <button class="closeBtn modalBtn" id="close">Close</button>
        </div>
        </div>
      </div>
      <script>
        let modal = document.getElementById("myModal");
        let btn = document.getElementById("open");
        let close = document.getElementsByClassName("close")[0];
        let closeBtn = document.getElementById("close");
        let copyBtn = document.querySelector(".copyBtn");
        let code = document.getElementById("js");
    
        btn.onclick = () => {
            modal.style.display = "block";
            code.textContent = `
    let modal = document.getElementById("myModal");
    let btn = document.getElementById("open");
    let close = document.getElementsByClassName("close")[0];
    let closeBtn = document.getElementById("close");
    
    btn.onclick = () => {
        modal.style.display = "block";
    };
    
    close.onclick = () => {
        modal.style.display = "none";
    };
    
    closeBtn.onclick = () => {
        modal.style.display = "none";
    };
    
    window.onclick = (event) => {
        if (event.target == modal) {
            modal.style.display = "none";
        }
    };`;
        };
    
        close.onclick = () => {
            modal.style.display = "none";
            copyBtn.innerHTML = "Copy";
        };
    
        closeBtn.onclick = () => {
            modal.style.display = "none";
            copyBtn.innerHTML = "Copy";
        };
    
        window.onclick = (event) => {
            if (event.target == modal) {
                modal.style.display = "none";
                copyBtn.innerHTML = "Copy";
            }
        };
    
        copyBtn.onclick = () => {
            let range = document.createRange();
            range.selectNode(code);
            window.getSelection().removeAllRanges();
            window.getSelection().addRange(range);
            document.execCommand("copy");
            window.getSelection().removeAllRanges();
            copyBtn.innerHTML = " &check;Copied";
        };
    </script>
</body>
</html>